<form ngNativeValidate [formGroup]="questionsForm" (ngSubmit) = addQuestion()>
  <div class=" row">

    <div class=" col-12">

      <div class=" card">
        <div class=" card-header">
          <h4 class=" card-title">ADD QUESTIONS/ አዲስ ጥያቄ ያስገቡ</h4>
        </div>
        <div class=" card-body">
          <!--QUESTION AND IT'S OPTIONS-->
          <div class=" row">
            <div class=" col-md-6 pr-md-1">
              <div class=" form-group">
                <label>Question * </label>
                <textarea type="text" formControlName="question" class=" form-control" placeholder="ጥያቄ" required></textarea>
              </div>
            </div>

            <div class=" col-md-6 pr-md-1">
              <div class=" form-group">
                <label>Description  </label>
                <textarea type="text" formControlName="description" class=" form-control" placeholder="ማብራሪያ"></textarea>
              </div>
            </div>

          </div>

          <!--CATEGORY AND PARENT QUESTION ID-->
          <div class=" row">
            <div class=" col-md-6 pr-md-1">
              <div class=" form-group">
                <label>Category * </label>
<!--                <input type="text" formControlName="category" class=" form-control" placeholder="ምድብ"/>-->
                <input type="text" formControlName="category" placeholder="ምድብ"
                       [matAutocomplete]="cAuto" class = "form-control" >
                <mat-autocomplete autoActiveFirstOption #cAuto="matAutocomplete">
                  <mat-option *ngFor="let category of categoryOptions | async" [value]="category.value" required>
                   {{category.id}}
                  </mat-option>
                </mat-autocomplete>
              </div>
            </div>
            <div class=" col-md-6 pr-md-1">
              <label>Options * </label>
              <div class="input-group-append">
                <input type="text" formControlName="options" class=" form-control" placeholder="አማራጮች" required/>
                <button type="button" (click)="addOption({id: 0, title: 'Option', addDisabled: true, removeDisabled: true})"><i class="fas fa-plus" ></i></button>
              </div>

              <div  formArrayName="options" *ngFor="let arrayItem of arrayItems; let i=index">
<!--                  <label [for]="arrayItem.id+1" class="array-item-title">{{arrayItem.title}} {{arrayItem.id+1}}</label>-->
                  <div class="input-group-append">
                    <input [id]="arrayItem.id+1" type="text" class= "form-control" [formControl]="options[i]">
                    <button (click)="removeOption(arrayItem)" *ngIf="arrayItem.removeDisabled"><i class="fa fa-minus" ></i></button>
                  </div>
                  <mat-button  (click)="addOption(arrayItem)" *ngIf="arrayItem.addDisabled"><i class="fa fa-plus" ></i></mat-button>
              </div>
            </div>
          </div>

          <div class=" row">
            <div class=" col-md-6 pr-md-1">
              <div class=" form-group">
                <label>Parent Question ID  </label>
                <input type="text" formControlName="parentId" class=" form-control" placeholder="የጥያቄው የበላይ መለያ ቁጥር"/>
              </div>
            </div>
            <div class=" col-md-6 pr-md-1">
              <div class=" form-group">
                <label>Modified By </label>
                <input type="text" formControlName="modifiedBy" class=" form-control" placeholder="ጥያቄውን ያስተካከለው"/>
              </div>
            </div>
          </div>

          <div class=" row">
            <div class=" col-md-6 pr-md-1">
              <div class=" form-group">
                <label> Date Added</label>
                <div class="input-group-append">
                  <input class="form-control" matInput [matDatepicker]="doa" formControlName="insertDate" [formControl]="insertDate">
                  <mat-datepicker-toggle matSuffix [for]="doa"></mat-datepicker-toggle>
                  <mat-datepicker #doa></mat-datepicker>
                </div>
              </div>
            </div>

            <div class=" col-md-6 pr-md-1">
              <div class=" form-group">
                <label>Modified Date </label>
                <div class="input-group-append">
                  <input class="form-control" matInput [matDatepicker]="dom"  formControlName="modifiedDate" [formControl]="insertDate">
                  <mat-datepicker-toggle matSuffix [for]="dom"></mat-datepicker-toggle>
                  <mat-datepicker #dom></mat-datepicker>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
      <alert></alert>
    </div>
    Only Fields Marked with * are Mandatory

  </div>

  <div id="footer">
    <button class=" btn btn-fill btn-danger" type="submit"><i class="fas fa-plus"></i> Add Question</button>
  </div>

</form>
